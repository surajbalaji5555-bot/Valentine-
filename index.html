<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For My Pattu Kutty ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}

html,body{
height:100%;
overflow:hidden;
font-family:'Inter',sans-serif;
scroll-behavior:smooth;
}

/* SECTIONS */
section{
height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
padding:30px;
}

.hero{
background:linear-gradient(180deg,#F8BBD0,#FCE4EC);
}

.soft{
background:#FFF1E6;
}

h1{
font-family:'Playfair Display',serif;
font-size:2.8rem;
color:#2A0E14;
margin-bottom:20px;
}

p{
color:#3D1B22;
font-size:1.1rem;
max-width:650px;
line-height:1.6;
}

/* ENVELOPE */
.envelope{
width:230px;
height:160px;
background:#C9184A;
position:relative;
cursor:pointer;
border-radius:10px;
box-shadow:0 15px 35px rgba(0,0,0,0.25);
transition:0.6s;
}

.envelope:before{
content:"";
position:absolute;
top:0;
left:0;
width:100%;
height:100%;
background:#A4133C;
clip-path:polygon(0 0,100% 0,50% 65%);
transition:0.6s;
}

.envelope.open:before{
transform:rotateX(180deg);
transform-origin:top;
}

.letter{
position:absolute;
top:100%;
left:0;
width:100%;
height:100%;
background:white;
display:flex;
justify-content:center;
align-items:center;
transition:0.6s;
border-radius:10px;
}

.envelope.open .letter{
top:-100%;
}

/* BUTTONS */
.buttons{
margin-top:30px;
display:flex;
gap:20px;
}

button{
padding:14px 38px;
border-radius:999px;
border:none;
cursor:pointer;
font-size:1rem;
transition:0.3s;
}

.yes{
background:#C9184A;
color:white;
}

.no{
background:transparent;
border:2px solid #C9184A;
color:#C9184A;
position:relative;
}

/* PHOTO FRAMES */
.gallery{
display:flex;
gap:20px;
margin-top:30px;
}

.photo-frame{
background:white;
padding:12px;
border-radius:18px;
box-shadow:0 18px 40px rgba(0,0,0,0.2);
cursor:pointer;
}

.photo-frame img{
width:180px;
border-radius:12px;
display:block;
}

/* MODAL POPUP */
.modal{
position:fixed;
inset:0;
background:rgba(0,0,0,0.85);
display:none;
justify-content:center;
align-items:center;
flex-direction:column;
z-index:10;
}

.modal img{
width:85%;
max-width:420px;
border-radius:16px;
}

.modal p{
color:white;
margin-top:15px;
font-size:1rem;
max-width:80%;
text-align:center;
}

.close-btn{
margin-top:15px;
padding:8px 20px;
background:white;
border:none;
border-radius:999px;
cursor:pointer;
}

/* HEARTS */
.heart{
position:fixed;
bottom:-20px;
color:rgba(201,24,74,0.6);
font-size:18px;
animation:float 6s linear forwards;
pointer-events:none;
}

@keyframes float{
from{transform:translateY(0);opacity:1;}
to{transform:translateY(-120vh);opacity:0;}
}

/* FIREWORKS */
canvas{
position:fixed;
top:0;
left:0;
pointer-events:none;
z-index:5;
}
</style>
</head>

<body>

<audio id="bgm" loop>
<source src="./Music.mp3" type="audio/mpeg">
</audio>

<!-- ENVELOPE -->
<section class="hero">
<h1>Open This, My Pattu Kutty üíå</h1>
<div class="envelope" id="envelope" onclick="openEnvelope()">
<div class="letter"><h2>For You ‚ù§Ô∏è</h2></div>
</div>
</section>

<!-- QUESTION -->
<section class="soft" id="question">
<h1>Will you be my Valentine 
Subaa?</h1>
<p>You must choose üòå</p>
<div class="buttons">
<button class="yes" onclick="onYes()">YES</button>
<button class="no" id="noBtn">NO</button>
</div>
</section>

<!-- STORY -->
<section class="soft" id="story">
<h1>Our Story ‚ù§Ô∏è</h1>
<p>
From late-night talks to quiet smiles,
every moment became special because it was with you.
<br><br>
I love you so much baby,
you will always be my pattu kutty!!
</p>

<div class="gallery">
<div class="photo-frame" onclick="showMemory('Photo1.jpg','This day you were closer to my heart‚ù§Ô∏è')">
<img src="./Photo1.jpg">
</div>

<div class="photo-frame" onclick="showMemory('Photo2.jpg','Your were so gorgeous in this saree it melted my heart ü•∞')">
<img src="./Photo2.jpg">
</div>

<div class="photo-frame" onclick="showMemory('Photo3.jpg','One of my favourite cute memories with you üíï')">
<img src="./Photo3.jpg">
</div>
</div>
</section>

<!-- FINAL -->
<section class="hero">
<h1>You just made me the happiest person ‚ù§Ô∏è</h1>
<p>
This is just the beginning of us.
I want to see you in our wedding dress next to me very soon.
</p>
</section>

<!-- MODAL -->
<div class="modal" id="memoryModal">
<img id="memoryImg">
<p id="memoryText"></p>
<button class="close-btn" onclick="closeMemory()">Close</button>
</div>

<canvas id="fireworks"></canvas>

<script>
const bgm=document.getElementById("bgm");
const noBtn=document.getElementById("noBtn");

/* OPEN ENVELOPE */
function openEnvelope(){
document.getElementById("envelope").classList.add("open");
setTimeout(()=>{
document.getElementById("question")
.scrollIntoView({behavior:"smooth"});
},1000);
}

/* YES */
function onYes(){
bgm.play().catch(()=>{});
document.body.style.overflowY="scroll";
document.getElementById("story")
.scrollIntoView({behavior:"smooth"});
}

/* NO BUTTON RUNS EVERY TIME */
function moveNoButton() {
  const x = Math.random() * 250 - 125;  // wider movement
  const y = Math.random() * 150 - 75;

  noBtn.style.transition = "transform 0.25s ease";
  noBtn.style.transform = `translate(${x}px, ${y}px)`;
}

/* Desktop hover */
noBtn.addEventListener("mouseenter", moveNoButton);

/* Click attempt */
noBtn.addEventListener("click", function(e){
  e.preventDefault();
  moveNoButton();
});

/* Mobile touch */
noBtn.addEventListener("touchstart", function(e){
  e.preventDefault();
  moveNoButton();
});;

/* MEMORY POPUP ONLY ON PRESS */
function showMemory(img,text){
document.getElementById("memoryModal").style.display="flex";
document.getElementById("memoryImg").src=img;
document.getElementById("memoryText").innerText=text;
}

function closeMemory(){
document.getElementById("memoryModal").style.display="none";
}

/* HEARTS */
setInterval(()=>{
let heart=document.createElement("div");
heart.className="heart";
heart.innerHTML="‚ù§Ô∏è";
heart.style.left=Math.random()*100+"vw";
heart.style.fontSize=Math.random()*14+14+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),6000);
},900);

/* FIREWORKS */
const canvas=document.getElementById("fireworks");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=window.innerHeight;

let particles=[];
function firework(){
let x=Math.random()*canvas.width;
let y=Math.random()*canvas.height/2;
for(let i=0;i<40;i++){
particles.push({
x,y,
dx:(Math.random()-0.5)*6,
dy:(Math.random()-0.5)*6,
life:60,
color:`hsl(${Math.random()*360},100%,60%)`
});
}
}
function animate(){
ctx.clearRect(0,0,canvas.width,canvas.height);
particles.forEach((p,i)=>{
p.x+=p.dx;
p.y+=p.dy;
p.life--;
ctx.fillStyle=p.color;
ctx.beginPath();
ctx.arc(p.x,p.y,2,0,Math.PI*2);
ctx.fill();
if(p.life<=0)particles.splice(i,1);
});
requestAnimationFrame(animate);
}
setInterval(firework,2000);
animate();
</script>

</body>
</html>